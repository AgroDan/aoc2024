# Day 15: Warehouse Woes

This challenge really scratched that recursive itch I've been longing for. Nothing tops my taco like a solid, elegant, terse recursive function. And this challenge allowed for _exactly_ that. My method was basically this: _don't_ use a runemap. This challenge almost begged for it but I figured that since there were moving parts to it (ie the boxes that the robot was pushing) then it may be more efficient to create vectors of all of the objects within the warehouse rather than worry about setting and unsetting parts of a runemap. But because I had to move objects within vectors and you could compound boxes into moving several at a time, I figured it was a great reason to use a recursive function here. Basically keep traversing in one direction until you hit a reason to stop, then just call back to the previous calls of each function and wrap up neatly.

I imagine that the best visualization here is when you see a bartender at one of those fancy vacation bars where they're setting up dozens of drinks next to each other, then they add a little shotglass juuuuust on the lip of the glass to each one. The bartender pours drinks across each glass and into each shotglass, and then tips the final shotglass over which causes a huge cascade of shotglasses each falling into their respective glasses until it hits the end. At least that's how I picture it in my head.

Part two really messed with my head. Double the size of each item ONLY on the X-axis, EXCEPT for the robot. So now moving east or west it's really no different than if there were just more boxes, but if you're moving north or south then it's quite a bit more complex. You have to account for every single movable box being un-obstructed for _both_ sides of the box, and it could potentially move other boxes in front of it even if they're off by one. I needed to account for either side of the box when moving up, and if it collides with other boxes then I needed to account for both of _their_ sides as well. As you can see, it seemed relatively simple to grasp but when you get to the particulars it can balloon out into a sprawling, complex mess.

Undeterred, I pushed on. What if I could recurse through this as well, but also _fork off for both sides of the box_? In theory all I needed to do was just confirm that the boxes were moveable in that particular direction and then just update all of the positions of the boxes in that line, and each box had two sides, so...just split off from either side of the box.

I'm happy to say that I got the answer to both parts on the first try, and this is one of the most elegant solutions to these challenges that I think I've done so far. Really not a whole lot of code, but the complexity got a bit daunting -- and yet my attempts were spot on. I'm going to celebrate this victory by telling my wife and watching her eyes glaze over.